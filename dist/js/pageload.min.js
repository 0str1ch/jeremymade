var cache={};function loadPage(n){return cache[n]?new Promise(function(e){e(cache[n])}):fetch(n,{method:"GET"}).then(function(e){return cache[n]=e.text(),cache[n]})}var main=document.querySelector("main");function changePage(){loadPage(window.location.href).then(function(e){var n=document.createElement("div");n.innerHTML=e;var t=document.querySelector(".cc"),a=n.querySelector(".cc");main.appendChild(a),animate(t,a)})}function animate(e,n){e.style.position="absolute";e.animate({opacity:[1,0]},500);n.animate({opacity:[0,1]},500).onfinish=function(){e.parentNode.removeChild(e)}}window.addEventListener("popstate",changePage),document.addEventListener("click",function(e){for(var n=e.target;n&&!n.href;)n=n.parentNode;if(n)return e.preventDefault(),history.pushState(null,null,n.href),void changePage()});